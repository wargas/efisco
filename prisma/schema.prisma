// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Processo {
  id String @id()
  data_registro String
  numero_protocolo String
  natureza String
  interessado String
  situacao String
  portador String
  valor_imposto Float?
  data_lancamento String?
  usuario_lancamento String?
  data_doacao String?
  historico Historico[]

  @@index([situacao,numero_protocolo])
}

model Historico {
  id String @id
  processoId String @map("processo_id")
  data String
  situacao String
  usuario String
  processo Processo @relation(fields: [processoId], references: [id])

  @@index([usuario])
}

model Usuario {
  codigo String @id
  nome String
  cpf String
  processos Int @default(0)
}

model Doadores {
  id String @id
  cpf String
  protocolo String
}

model Adquirente {
  id String @id
  protocolo String
  cpf String 
  nome String
  quinhao String
}

model Bens {
  id String @id
  protocolo String
  tipo String
  classificao String
  descricao String
  valor_declarado String
}